<?xml version="1.0" encoding="UTF-8"?>
<map version="1.10" tiledversion="git" orientation="orthogonal" renderorder="right-down" compressionlevel="0" width="14" height="21" tilewidth="16" tileheight="16" infinite="0" nextlayerid="6" nextobjectid="49">
 <properties>
  <property name="edges" value="clamped"/>
  <property name="inside" type="bool" value="true"/>
  <property name="scenario" value="spyder"/>
  <property name="slug" value="omnichannel2"/>
  <property name="map_type" value="dungeon"/>
 </properties>
 <tileset firstgid="1" source="../gfx/tilesets/core_indoor_stairs.tsx"/>
 <tileset firstgid="2971" name="Office_interiors_shadowless_16x16" tilewidth="16" tileheight="16" tilecount="528" columns="22">
  <image source="../gfx/tilesets/Office_interiors_shadowless_16x16.png" width="352" height="384"/>
 </tileset>
 <tileset firstgid="3499" name="Tilesets_16x16" tilewidth="16" tileheight="16" tilecount="1760" columns="40">
  <image source="../gfx/tilesets/Tilesets_16x16.png" width="640" height="704"/>
 </tileset>
 <layer id="1" name="Tile Layer 1" width="14" height="21">
  <data encoding="base64" compression="zlib">
   eAG7y8vAcJdE/ACoPpSPdBwB1RMOpEnBo/qwh9douIyGy3DNRwB6i3sc
  </data>
 </layer>
 <layer id="2" name="Tile Layer 2" width="14" height="21">
  <data encoding="base64" compression="zlib">
   eAG9U8EJAkEMHBT8yJ5V2IJP7cQGtA1tQxvwqZ34Ff3YheCsODCGZffuYyAkIZkkm2QB4JaGMSEfmnTAEBaurzxMgSO5RSf24XQm5tIDdw04z1HTWzjNc8f80rN03MJ8qqVZ5jjpWTpubT7hlmNgRfa47Iu24iU3xGzJL+Z0irb7XJ/P3AKi/ev9v3UfAQ/ynu/zPTy5C1FpD4kz6b7z9D10NqfSHlQjWZzq1KRqeP4YH288+0v/I7611Evpf8Sbq/XivbVuzGNdb+HeArY4Iw==
  </data>
 </layer>
 <layer id="5" name="Tile Layer 3" width="14" height="21">
  <data encoding="base64" compression="zlib">
   eAGlkzlOg0EMRs0iKJK07BSElrVCHCDJIaCEK7CEK7BegeUwQM3SJdQsggJoeZ80I/2y/AcRLD15xvY3nkVjZlarmd1VzO7hAR5B1qiaNeEWIptH90ztC7zCW9JtUL8JT0n3Tvwj5bTOOroBcoMwBMOpLvf4TvMR/KjLjaMdS0zgI5tBM+t0i9QuJJZKdNFa/43pbrdg2/VU/Jo93rh95n662zYcOJ3iHTTdEp3u9hTOnE7xTzRfJbrcV77itMVcr/Fcn7q1PnW99uJzO/TYhT3YD/rpPSI7JH4Ex3DiaqrM9R6RnRO/gEu4cjV15nqPbP5/5PhvPvof0ugskzAF04U+eb3ofyinsyzDCqwGuqz3XmdpQBNaf9D5dYrzH0tjJ98=
  </data>
 </layer>
 <objectgroup color="#ff0000" id="3" name="Collisions">
  <object id="1" type="collision" x="0" y="0" width="224" height="32"/>
  <object id="16" type="collision" x="0" y="32" width="16" height="304"/>
  <object id="17" type="collision" x="112" y="48" width="16" height="128"/>
  <object id="18" type="collision" x="48" y="128" width="16" height="48"/>
  <object id="19" type="collision" x="48" y="208" width="80" height="32"/>
  <object id="20" type="collision" x="16" y="96" width="96" height="32"/>
  <object id="21" type="collision" x="16" y="240" width="48" height="32"/>
  <object id="22" type="collision" x="16" y="272" width="32" height="16"/>
  <object id="23" type="collision" x="176" y="32" width="32" height="16"/>
  <object id="38" type="collision" x="32" y="48" width="64" height="16"/>
  <object id="43" type="collision" x="96" y="272" width="80" height="32"/>
  <object id="44" type="collision" x="96" y="304" width="16" height="32"/>
  <object id="45" type="collision" x="160" y="256" width="16" height="16"/>
  <object id="46" type="collision" x="208" y="32" width="16" height="304"/>
  <object id="47" type="collision" x="160" y="208" width="48" height="32"/>
  <object id="48" type="collision" x="160" y="96" width="48" height="32"/>
 </objectgroup>
 <objectgroup color="#ffff00" id="4" name="Events">
  <object id="6" name="Teleport to Omnichannel 3" type="event" x="16" y="144" width="16" height="16">
   <properties>
    <property name="act1" value="transition_teleport spyder_omnichannel3.tmx,1,12,0.3"/>
    <property name="act2" value="char_face player,up"/>
    <property name="cond1" value="is char_at player"/>
   </properties>
  </object>
  <object id="7" name="Teleport to Omnichannel 3" type="event" x="32" y="144" width="16" height="16">
   <properties>
    <property name="act1" value="transition_teleport spyder_omnichannel3.tmx,1,12,0.3"/>
    <property name="act2" value="char_face player,up"/>
    <property name="cond1" value="is char_at player"/>
   </properties>
  </object>
  <object id="9" name="Teleport to Omnichannel 1" type="event" x="32" y="208" width="16" height="16">
   <properties>
    <property name="act1" value="transition_teleport spyder_omnichannel1.tmx,2,10,0.3"/>
    <property name="act2" value="char_face player,down"/>
    <property name="cond1" value="is char_at player"/>
   </properties>
  </object>
  <object id="10" name="Teleport to Omnichannel 1" type="event" x="16" y="208" width="16" height="16">
   <properties>
    <property name="act1" value="transition_teleport spyder_omnichannel1.tmx,1,10,0.3"/>
    <property name="act2" value="char_face player,down"/>
    <property name="cond1" value="is char_at player"/>
   </properties>
  </object>
  <object id="11" name="Play Music" type="event" x="0" y="0" width="16" height="16">
   <properties>
    <property name="act1" value="play_music music_omnichannel"/>
    <property name="cond1" value="not music_playing music_omnichannel"/>
   </properties>
  </object>
  <object id="14" name="Environment" type="event" x="16" y="0" width="16" height="16">
   <properties>
    <property name="act1" value="set_variable environment:interior"/>
    <property name="cond1" value="not variable_set environment:interior"/>
   </properties>
  </object>
  <object id="24" name="Create Bettger" type="event" x="192" y="176" width="16" height="16">
   <properties>
    <property name="act1" value="create_npc spyder_omnichannel_bettger,12,10"/>
    <property name="cond1" value="not char_exists spyder_omnichannel_bettger"/>
    <property name="cond2" value="not variable_set omnichannel2bettger:yes"/>
   </properties>
  </object>
  <object id="25" name="Talk Schwartz" type="event" x="128" y="192" width="32" height="16">
   <properties>
    <property name="act0" value="pathfind_to_player spyder_omnichannel_schwartz"/>
    <property name="act1" value="translated_dialog spyder_omnichannel_schwartz1"/>
    <property name="act2" value="add_monster grinflare,35,spyder_omnichannel_schwartz,5,10"/>
    <property name="act3" value="add_monster strella,35,spyder_omnichannel_schwartz,5,10"/>
    <property name="act4" value="start_battle player,spyder_omnichannel_schwartz"/>
    <property name="act5" value="translated_dialog spyder_omnichannel_schwartz2"/>
    <property name="act6" value="set_variable omnichannel2schwartz:yes"/>
    <property name="cond1" value="not variable_set omnichannel2schwartz:yes"/>
    <property name="cond2" value="is char_at player"/>
   </properties>
  </object>
  <object id="29" name="Create Schwartz" type="event" x="192" y="192" width="16" height="16">
   <properties>
    <property name="act1" value="create_npc spyder_omnichannel_schwartz,12,11"/>
    <property name="act2" value="char_face spyder_omnichannel_schwartz,up"/>
    <property name="cond1" value="not char_exists spyder_omnichannel_schwartz"/>
    <property name="cond2" value="not variable_set omnichannel2schwartz:yes"/>
   </properties>
  </object>
  <object id="30" name="Talk Bettger" type="event" x="112" y="176" width="32" height="16">
   <properties>
    <property name="act0" value="pathfind_to_player spyder_omnichannel_bettger"/>
    <property name="act1" value="translated_dialog spyder_omnichannel_bettger1"/>
    <property name="act2" value="add_monster grintrock,35,spyder_omnichannel_bettger,5,10"/>
    <property name="act3" value="add_monster rabbitosaur,35,spyder_omnichannel_bettger,5,10"/>
    <property name="act4" value="start_battle player,spyder_omnichannel_bettger"/>
    <property name="act5" value="translated_dialog spyder_omnichannel_bettger2"/>
    <property name="act6" value="set_variable omnichannel2bettger:yes"/>
    <property name="cond1" value="not variable_set omnichannel2bettger:yes"/>
    <property name="cond2" value="is char_at player"/>
   </properties>
  </object>
  <object id="31" name="Create Tohei" type="event" x="64" y="304" width="16" height="16">
   <properties>
    <property name="act1" value="create_npc spyder_omnichannel_tohei,4,19"/>
    <property name="act2" value="char_face spyder_omnichannel_tohei,up"/>
    <property name="cond1" value="not char_exists spyder_omnichannel_tohei"/>
    <property name="cond2" value="not variable_set omnichannel2tohei:yes"/>
   </properties>
  </object>
  <object id="32" name="Talk Tohei" type="event" x="64" y="256" width="32" height="16">
   <properties>
    <property name="act0" value="pathfind_to_player spyder_omnichannel_tohei"/>
    <property name="act1" value="translated_dialog spyder_omnichannel_tohei1"/>
    <property name="act2" value="add_monster sludgehog,40,spyder_omnichannel_tohei,5,10"/>
    <property name="act4" value="start_battle player,spyder_omnichannel_tohei"/>
    <property name="act5" value="translated_dialog spyder_omnichannel_tohei2"/>
    <property name="act6" value="set_variable omnichannel2tohei:yes"/>
    <property name="cond1" value="not variable_set omnichannel2tohei:yes"/>
    <property name="cond2" value="is char_at player"/>
   </properties>
  </object>
  <object id="36" name="Create Crane" type="event" x="176" y="48" width="16" height="16">
   <properties>
    <property name="act1" value="create_npc spyder_omnichannel_crane,12,7"/>
    <property name="act2" value="char_face spyder_omnichannel_crane,up"/>
    <property name="cond1" value="not char_exists spyder_omnichannel_crane"/>
    <property name="cond2" value="not variable_set omnichannel2crane:yes"/>
   </properties>
  </object>
  <object id="37" name="Talk Crane" type="event" x="128" y="96" width="32" height="16">
   <properties>
    <property name="act0" value="pathfind_to_player spyder_omnichannel_crane"/>
    <property name="act1" value="translated_dialog spyder_omnichannel_crane1"/>
    <property name="act2" value="add_monster cochini,35,spyder_omnichannel_crane,5,10"/>
    <property name="act3" value="add_monster sharpfin,35,spyder_omnichannel_crane,5,10"/>
    <property name="act4" value="start_battle player,spyder_omnichannel_crane"/>
    <property name="act5" value="translated_dialog spyder_omnichannel_crane2"/>
    <property name="act6" value="set_variable omnichannel2crane:yes"/>
    <property name="cond1" value="not variable_set omnichannel2crane:yes"/>
    <property name="cond2" value="is char_at player"/>
   </properties>
  </object>
  <object id="39" name="Create Dempsey" type="event" x="64" y="64" width="16" height="16">
   <properties>
    <property name="act1" value="create_npc spyder_omnichannel_dempsey,4,4"/>
    <property name="act2" value="char_face spyder_omnichannel_dempsey,up"/>
    <property name="cond1" value="not char_exists spyder_omnichannel_dempsey"/>
    <property name="cond2" value="not variable_set omnichannel2dempsey:yes"/>
   </properties>
  </object>
  <object id="40" name="Talk Dempsey" type="event" x="96" y="32" width="16" height="16">
   <properties>
    <property name="act0" value="pathfind_to_player spyder_omnichannel_dempsey"/>
    <property name="act1" value="translated_dialog spyder_omnichannel_dempsey1"/>
    <property name="act2" value="add_monster squabbit,20,spyder_omnichannel_dempsey,5,10"/>
    <property name="act3" value="add_monster squabbit,20,spyder_omnichannel_dempsey,5,10"/>
    <property name="act4" value="start_battle player,spyder_omnichannel_dempsey"/>
    <property name="act5" value="translated_dialog spyder_omnichannel_dempsey2"/>
    <property name="act6" value="set_variable omnichannel2dempsey:yes"/>
    <property name="cond1" value="not variable_set omnichannel2dempsey:yes"/>
    <property name="cond2" value="is char_at player"/>
   </properties>
  </object>
  <object id="41" name="PC" type="event" x="16" y="272" width="32" height="16">
   <properties>
    <property name="act1" value="translated_dialog spyder_omnichannel2_pc"/>
    <property name="act2" value="set_variable omnichannel1wall:yes"/>
    <property name="cond1" value="is char_facing_tile player"/>
    <property name="cond2" value="is button_pressed K_RETURN"/>
   </properties>
  </object>
  <object id="42" name="Threats" type="event" x="0" y="32" width="16" height="16">
   <properties>
    <property name="act1" value="random_encounter omnichannel,0.6"/>
    <property name="cond1" value="is variable_set omnichannel1wall:yes"/>
    <property name="cond2" value="is check_char_parameter player,moving,1"/>
   </properties>
  </object>
 </objectgroup>
</map>
